@model IEnumerable<achorostian.Models.Phone>

@{
    ViewBag.Title = @ViewData["header"];
}

<h2>@ViewData["header"]</h2>

@if (Request.IsAuthenticated)
{
    <p>
        @Html.ActionLink("Dodaj nowy", "Create", "Phones", new { id = ViewData["brandid"] }, null)
    </p>
}
<table class="table">
    <tr>
        <th width="20%">@Html.DisplayNameFor(model => model.Brand)</th>
        <th width="20%">@Html.DisplayNameFor(model => model.Model)</th>
        <th width="20%">@Html.DisplayNameFor(model => model.Year)</th>
        <th width="20%">@Html.DisplayNameFor(model => model.Price)</th>
        <th width="20%">Akcje</th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>@Html.DisplayFor(modelItem => item.Brand.Name)</td>
        <td>@Html.ActionLink(item.Model, "Details", new { id = item.Id })</td>
        <td>@Html.DisplayFor(modelItem => item.Year)</td>
        <td>@Html.DisplayFor(modelItem => item.Price)</td>

        <td>
            @Html.ActionLink("Szczegóły", "Details", new { id = item.Id })
            @if (Request.IsAuthenticated)
            {
                @Html.ActionLink(" Edytuj", "Edit", new { id = item.Id })
                @Html.ActionLink(" Usuń", "Delete", new { id = item.Id })
            }
        </td>
    </tr>
}

</table>
